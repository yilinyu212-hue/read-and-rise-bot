name: Read and Rise Daily Sync

on:
  workflow_dispatch: # å…è®¸ä½ æ‰‹åŠ¨ç‚¹å‡»æŒ‰é’®è¿è¡Œ
  schedule:
    - cron: '0 0 * * *' # æ¯å¤©å‡Œæ™¨è‡ªåŠ¨è¿è¡Œ

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v3

      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.9'

      - name: Install dependencies
        run: |
          pip install requests plotly streamlit

      - name: Run Notion Test
        env:
          # ğŸš¨ è¿™é‡Œæ˜¯å…³é”®ï¼šå°† GitHub çš„ Secrets æ˜ å°„ç»™ Python
          NOTION_TOKEN: ${{ secrets.NOTION_TOKEN }}
          NOTION_DATABASE_ID: ${{ secrets.NOTION_DATABASE_ID }}
        run: |
          python notion_test.py

      # ç­‰æµ‹è¯•é€šäº†ï¼Œå†æŠŠä¸‹é¢è¿™è¡Œå‰é¢çš„ # åˆ æ‰ï¼Œè¿è¡ŒçœŸæ­£çš„çˆ¬è™«
      # - name: Run Crawler
      #   env:
      #     NOTION_TOKEN: ${{ secrets.NOTION_TOKEN }}
      #     NOTION_DATABASE_ID: ${{ secrets.NOTION_DATABASE_ID }}
      #   run: python crawler.py
